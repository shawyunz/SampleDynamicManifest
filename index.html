<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Basic Manifest Test</title>
    <link rel="manifest" href="static-manifest.json" />

    <script>
        window.addEventListener('load', () => {
            console.log('Setting dynamic manifest...');
            
            const dynamicManifest = {
                name: "Dynamic Test",
                short_name: "Dynamic",
                display: "standalone",
                icons: [{
                    src: "https://via.placeholder.com/144",
                    sizes: "144x144",
                    type: "image/png"
                }]
            };

            const blob = new Blob([JSON.stringify(dynamicManifest)], {
                type: "application/json"
            });

            const manifestURL = URL.createObjectURL(blob);
            const manifestLink = document.querySelector('link[rel="manifest"]');
            manifestLink.href = manifestURL;
            
            console.log('Dynamic manifest has been set');
            document.getElementById('status').textContent = 'Dynamic manifest set at: ' + new Date().toLocaleTimeString();
        });
    </script>
</head>
<body>
    <h1>Basic Manifest Test</h1>
    <p>Check the Application > Manifest section in DevTools</p>
    <div id="status">Loading...</div>
</body>
</html>
